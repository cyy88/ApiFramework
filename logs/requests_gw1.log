2025-01-15 16:35:46,943 INFO [apiautotest] [conftest.py (aalogger_init:58) - 日志初始化成功]
2025-01-15 16:35:46,945 INFO [apiautotest] [conftest.py (aalogger_init:59) - 日志初始化成功后产生的workid：gw1]
2025-01-15 16:35:46,946 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:46,946 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/system/auth/login]
2025-01-15 16:35:46,946 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:46,947 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Content-Type': 'application/json', 'tenant-id': '421'}]
2025-01-15 16:35:46,952 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:46,952 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:46,952 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'username': 'liyang', 'password': 'jt123456'}]
2025-01-15 16:35:46,952 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:48,067 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:48,067 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":{"userId":163,"accessToken":"316398ac00f14aa9a6d8ec323d5c611c","extendJson":"{\"tenantType\":\"1\",\"isMaster\":1,\"accountType\":3,\"tenantId\":\"421\",\"userId\":163,\"orgId\":\"1791366884432678912\",\"username\":\"liyang\"}","refreshToken":"3464dd107eb243119bb31d09d8e60cf1","expiresTime":1736966148019,"tenantId":421,"tenantName":"洁小兔（溧阳）智洗工厂","tenantType":1,"orgId":"1791366884432678912","accountType":3},"msg":"成功","traceId":null}]
2025-01-15 16:35:48,069 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:48,069 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/page?pageNo=1&pageSize=20]
2025-01-15 16:35:48,069 DEBUG [apiautotest] [client.py (send:25) - 接口method: get]
2025-01-15 16:35:48,069 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  316398ac00f14aa9a6d8ec323d5c611c', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:35:48,069 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:48,069 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:48,069 DEBUG [apiautotest] [client.py (send:29) - 接口json: None]
2025-01-15 16:35:48,069 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:48,315 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:48,315 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":{"list":[{"id":"1879381311454580737","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736914397000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"liyang","updateTime":1736914397000,"thirdpartySchoolId":null},{"id":"1879366227990810624","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736910800000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"liyang","updateTime":1736910800000,"thirdpartySchoolId":null},{"id":"1879365372600258561","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736910596000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"liyang","updateTime":1736910596000,"thirdpartySchoolId":null},{"id":"1844631397684350976","orgId":"1791366884432678912","schoolName":"溧阳市溧城初级中学","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"溧阳中学","schoolLonLat":"119.470767,31.419415","schoolRemark":"","createTime":1728629371000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"foshan","updateTime":1731375633000,"thirdpartySchoolId":null},{"id":"1844629742133841920","orgId":"1791366884432678912","schoolName":"溧阳市实验初级中学","schoolType":1,"verifyType":1,"isHaveCard":1,"servceId":"1844629524449464320","servceName":"一卡通服务商","schoolAddress":"江苏省常州市溧阳市平陵中路251号溧阳市实验初级中学","schoolLonLat":"119.489456,31.421294","schoolRemark":"","createTime":1728628977000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"liyang","updateTime":1732679343000,"thirdpartySchoolId":"83921"},{"id":"1844629385383120896","orgId":"1791366884432678912","schoolName":"溧阳市第六中学","schoolType":2,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"江苏省常州市溧阳市永定路666号江苏省溧阳中学","schoolLonLat":"119.470767,31.419415","schoolRemark":"","createTime":1728628892000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"foshan","updateTime":1731375500000,"thirdpartySchoolId":null},{"id":"1844629246220308480","orgId":"1791366884432678912","schoolName":"溧阳中学","schoolType":2,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"江苏省常州市溧阳市永定路666号江苏省溧阳中学","schoolLonLat":"119.470767,31.419415","schoolRemark":"","createTime":1728628859000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"foshan","updateTime":1731375460000,"thirdpartySchoolId":null},{"id":"1844629154864173056","orgId":"1791366884432678912","schoolName":"溧阳市燕山中学","schoolType":2,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"江苏省常州市溧阳市溧城镇南环路35号溧阳市燕山中学","schoolLonLat":"119.483677,31.413099","schoolRemark":"","createTime":1728628837000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"foshan","updateTime":1731375409000,"thirdpartySchoolId":null}],"total":8},"msg":"成功","traceId":null}]
2025-01-15 16:35:49,057 INFO [apiautotest] [test_002-add_school.py (test_add_school:43) - 数据库中已有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,058 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:49,058 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:35:49,058 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:49,059 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  316398ac00f14aa9a6d8ec323d5c611c', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:35:49,059 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:49,059 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:49,059 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 16:35:49,059 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:49,132 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:49,132 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":"1879447382463221760","msg":"成功","traceId":null}]
2025-01-15 16:35:49,201 INFO [apiautotest] [test_002-add_school.py (test_add_school:49) - 测试完成后数据库中有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,202 INFO [apiautotest] [test_002-add_school.py (test_add_school:54) - 删除测试数据sql：delete from tcom_school where school_name = "测试学校" and tenant_id = 421 and create_time >= "2025-01-15 16:35:48"]
2025-01-15 16:35:49,367 INFO [apiautotest] [test_002-add_school.py (test_add_school:43) - 数据库中已有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,368 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:49,369 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:35:49,369 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:49,369 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  316398ac00f14aa9a6d8ec323d5c611c', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:35:49,369 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:49,369 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:49,369 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 16:35:49,369 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:49,427 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:49,427 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:学校名称不能为空","traceId":null}]
2025-01-15 16:35:49,515 INFO [apiautotest] [test_002-add_school.py (test_add_school:49) - 测试完成后数据库中有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,624 INFO [apiautotest] [test_002-add_school.py (test_add_school:43) - 数据库中已有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,625 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:49,625 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:35:49,625 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:49,625 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  316398ac00f14aa9a6d8ec323d5c611c', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:35:49,625 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:49,625 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:49,626 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校2', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 16:35:49,626 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:49,725 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:49,725 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:学校地址不能为空","traceId":null}]
2025-01-15 16:35:49,780 INFO [apiautotest] [test_002-add_school.py (test_add_school:49) - 测试完成后数据库中有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,853 INFO [apiautotest] [test_002-add_school.py (test_add_school:43) - 数据库中已有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,853 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:49,854 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:35:49,854 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:49,854 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  316398ac00f14aa9a6d8ec323d5c611c', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:35:49,854 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:49,854 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:49,854 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校3', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': ''}]
2025-01-15 16:35:49,854 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:49,902 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:49,902 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:经纬度不能为空","traceId":null}]
2025-01-15 16:35:49,961 INFO [apiautotest] [test_002-add_school.py (test_add_school:49) - 测试完成后数据库中有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,993 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:49,993 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:35:49,993 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:49,993 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  316398ac00f14aa9a6d8ec323d5c611c', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:35:49,993 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:49,994 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:49,994 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productName': '', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:35:49,994 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:50,047 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:50,048 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品名称不能为空","traceId":null}]
2025-01-15 16:35:50,059 INFO [apiautotest] [test_003-add_goods.py (test_add_school:29) - 商品名称为空接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品名称不能为空', 'traceId': None}]
2025-01-15 16:35:50,074 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:50,075 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:35:50,075 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:50,075 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  316398ac00f14aa9a6d8ec323d5c611c', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:35:50,076 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:50,076 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:50,076 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productName': '单件', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:35:50,076 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:50,164 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:50,164 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":"1879447386691080192","msg":"成功","traceId":null}]
2025-01-15 16:35:50,174 ERROR [apiautotest] [test_003-add_goods.py (test_add_school:27) - 商品价格小于0接口返回信息为：{'code': 0, 'data': '1879447386691080192', 'msg': '成功', 'traceId': None}]
2025-01-15 16:35:50,201 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:50,202 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:35:50,202 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:50,202 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  316398ac00f14aa9a6d8ec323d5c611c', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:35:50,202 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:50,202 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:50,202 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [], 'productName': '单件', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:35:50,202 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:50,276 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:50,276 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品规格列表不能为空","traceId":null}]
2025-01-15 16:35:50,286 INFO [apiautotest] [test_003-add_goods.py (test_add_school:29) - 商品规格为空接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品规格列表不能为空', 'traceId': None}]
2025-01-15 16:35:50,301 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:50,301 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:35:50,301 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:50,301 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  316398ac00f14aa9a6d8ec323d5c611c', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:35:50,302 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:50,302 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:50,302 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': '', 'productName': '', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:35:50,302 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:50,347 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:50,348 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":500,"data":null,"msg":"Cannot deserialize value of type `java.util.ArrayList<cn.iocoder.yudao.module.base.dal.dataobject.productspec.ProductSpecDO>` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 97] (through reference chain: cn.iocoder.yudao.module.tcom.controller.admin.product.vo.ProductSaveReqVO[\"productSpecList\"])","traceId":null}]
2025-01-15 16:35:50,359 INFO [apiautotest] [test_003-add_goods.py (test_add_school:29) - 商品名称和规格同时为空接口返回信息为：{'code': 500, 'data': None, 'msg': 'Cannot deserialize value of type `java.util.ArrayList<cn.iocoder.yudao.module.base.dal.dataobject.productspec.ProductSpecDO>` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 97] (through reference chain: cn.iocoder.yudao.module.tcom.controller.admin.product.vo.ProductSaveReqVO["productSpecList"])', 'traceId': None}]
2025-01-15 16:35:50,369 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  316398ac00f14aa9a6d8ec323d5c611c', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:50,434 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:50,434 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品名称不能为空","traceId":null}]
2025-01-15 16:35:50,444 INFO [apiautotest] [test_003-add_goods.py (test_add_school:29) - 删除商品名称参数接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品名称不能为空', 'traceId': None}]
2025-01-15 16:45:50,892 INFO [apiautotest] [conftest.py (aalogger_init:58) - 日志初始化成功]
2025-01-15 16:45:50,892 INFO [apiautotest] [conftest.py (aalogger_init:59) - 日志初始化成功后产生的workid：gw1]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/system/auth/login]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Content-Type': 'application/json', 'tenant-id': '421'}]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'username': 'liyang', 'password': 'jt123456'}]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:51,340 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:51,340 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":{"userId":163,"accessToken":"a279406ca9e7421193a47eda457258e0","extendJson":"{\"tenantType\":\"1\",\"isMaster\":1,\"accountType\":3,\"tenantId\":\"421\",\"userId\":163,\"orgId\":\"1791366884432678912\",\"username\":\"liyang\"}","refreshToken":"4c2403b8ad6d43c98011d6f755468cb2","expiresTime":1736966751264,"tenantId":421,"tenantName":"洁小兔（溧阳）智洗工厂","tenantType":1,"orgId":"1791366884432678912","accountType":3},"msg":"成功","traceId":null}]
2025-01-15 16:45:51,342 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:51,342 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/page?pageNo=1&pageSize=20]
2025-01-15 16:45:51,342 DEBUG [apiautotest] [client.py (send:25) - 接口method: get]
2025-01-15 16:45:51,342 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  a279406ca9e7421193a47eda457258e0', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:45:51,342 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:51,343 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:51,343 DEBUG [apiautotest] [client.py (send:29) - 接口json: None]
2025-01-15 16:45:51,343 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:51,574 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:51,574 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":{"list":[{"id":"1879381311454580737","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736914397000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"liyang","updateTime":1736914397000,"thirdpartySchoolId":null},{"id":"1879366227990810624","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736910800000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"liyang","updateTime":1736910800000,"thirdpartySchoolId":null},{"id":"1879365372600258561","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736910596000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"liyang","updateTime":1736910596000,"thirdpartySchoolId":null},{"id":"1844631397684350976","orgId":"1791366884432678912","schoolName":"溧阳市溧城初级中学","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"溧阳中学","schoolLonLat":"119.470767,31.419415","schoolRemark":"","createTime":1728629371000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"foshan","updateTime":1731375633000,"thirdpartySchoolId":null},{"id":"1844629742133841920","orgId":"1791366884432678912","schoolName":"溧阳市实验初级中学","schoolType":1,"verifyType":1,"isHaveCard":1,"servceId":"1844629524449464320","servceName":"一卡通服务商","schoolAddress":"江苏省常州市溧阳市平陵中路251号溧阳市实验初级中学","schoolLonLat":"119.489456,31.421294","schoolRemark":"","createTime":1728628977000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"liyang","updateTime":1732679343000,"thirdpartySchoolId":"83921"},{"id":"1844629385383120896","orgId":"1791366884432678912","schoolName":"溧阳市第六中学","schoolType":2,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"江苏省常州市溧阳市永定路666号江苏省溧阳中学","schoolLonLat":"119.470767,31.419415","schoolRemark":"","createTime":1728628892000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"foshan","updateTime":1731375500000,"thirdpartySchoolId":null},{"id":"1844629246220308480","orgId":"1791366884432678912","schoolName":"溧阳中学","schoolType":2,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"江苏省常州市溧阳市永定路666号江苏省溧阳中学","schoolLonLat":"119.470767,31.419415","schoolRemark":"","createTime":1728628859000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"foshan","updateTime":1731375460000,"thirdpartySchoolId":null},{"id":"1844629154864173056","orgId":"1791366884432678912","schoolName":"溧阳市燕山中学","schoolType":2,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"江苏省常州市溧阳市溧城镇南环路35号溧阳市燕山中学","schoolLonLat":"119.483677,31.413099","schoolRemark":"","createTime":1728628837000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"foshan","updateTime":1731375409000,"thirdpartySchoolId":null}],"total":8},"msg":"成功","traceId":null}]
2025-01-15 16:45:52,234 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,236 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:52,236 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:45:52,236 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:52,237 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  a279406ca9e7421193a47eda457258e0', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:45:52,237 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:52,238 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:52,238 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 16:45:52,238 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:52,304 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:52,304 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":"1879449912345759744","msg":"成功","traceId":null}]
2025-01-15 16:45:52,376 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,376 INFO [apiautotest] [test_002-add_school.py (test_add_school:56) - 删除测试数据sql：delete from tcom_school where school_name = "测试学校" and tenant_id = 421 and create_time >= "2025-01-15 16:45:52"]
2025-01-15 16:45:52,509 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,510 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:52,510 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:45:52,511 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:52,511 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  a279406ca9e7421193a47eda457258e0', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:45:52,511 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:52,511 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:52,511 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 16:45:52,511 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:52,586 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:52,587 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:学校名称不能为空","traceId":null}]
2025-01-15 16:45:52,654 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,745 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,746 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:52,746 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:45:52,746 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:52,747 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  a279406ca9e7421193a47eda457258e0', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:45:52,747 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:52,747 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:52,747 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校2', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 16:45:52,747 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:52,798 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:52,798 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:学校地址不能为空","traceId":null}]
2025-01-15 16:45:52,856 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,948 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,949 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:52,949 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:45:52,949 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:52,949 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  a279406ca9e7421193a47eda457258e0', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:45:52,949 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:52,949 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:52,949 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校3', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': ''}]
2025-01-15 16:45:52,949 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:52,993 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:52,993 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:经纬度不能为空","traceId":null}]
2025-01-15 16:45:53,052 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:53,079 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:53,079 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:45:53,079 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:53,079 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  a279406ca9e7421193a47eda457258e0', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:45:53,079 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:53,079 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:53,080 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productName': '', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:45:53,080 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:53,151 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:53,151 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品名称不能为空","traceId":null}]
2025-01-15 16:45:53,160 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 商品名称为空接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品名称不能为空', 'traceId': None}]
2025-01-15 16:45:53,172 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:53,172 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:45:53,172 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:53,172 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  a279406ca9e7421193a47eda457258e0', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:45:53,172 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:53,172 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:53,172 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productName': '单件', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:45:53,173 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:53,286 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:53,286 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":"1879449916296794112","msg":"成功","traceId":null}]
2025-01-15 16:45:53,296 ERROR [apiautotest] [test_003-add_goods.py (test_add_school:29) - 商品价格小于0接口返回信息为：{'code': 0, 'data': '1879449916296794112', 'msg': '成功', 'traceId': None}]
2025-01-15 16:45:53,322 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:53,323 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:45:53,323 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:53,323 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  a279406ca9e7421193a47eda457258e0', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:45:53,323 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:53,323 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:53,323 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [], 'productName': '单件', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:45:53,323 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:53,370 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:53,370 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品规格列表不能为空","traceId":null}]
2025-01-15 16:45:53,380 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 商品规格为空接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品规格列表不能为空', 'traceId': None}]
2025-01-15 16:45:53,400 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:53,400 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:45:53,400 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:53,400 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  a279406ca9e7421193a47eda457258e0', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:45:53,400 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:53,400 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:53,400 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': '', 'productName': '', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:45:53,401 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:53,456 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:53,456 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":500,"data":null,"msg":"Cannot deserialize value of type `java.util.ArrayList<cn.iocoder.yudao.module.base.dal.dataobject.productspec.ProductSpecDO>` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 97] (through reference chain: cn.iocoder.yudao.module.tcom.controller.admin.product.vo.ProductSaveReqVO[\"productSpecList\"])","traceId":null}]
2025-01-15 16:45:53,466 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 商品名称和规格同时为空接口返回信息为：{'code': 500, 'data': None, 'msg': 'Cannot deserialize value of type `java.util.ArrayList<cn.iocoder.yudao.module.base.dal.dataobject.productspec.ProductSpecDO>` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 97] (through reference chain: cn.iocoder.yudao.module.tcom.controller.admin.product.vo.ProductSaveReqVO["productSpecList"])', 'traceId': None}]
2025-01-15 16:45:53,476 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:53,476 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:45:53,476 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:53,476 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  a279406ca9e7421193a47eda457258e0', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 16:45:53,477 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:53,477 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:53,477 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:45:53,477 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:53,548 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:53,548 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品名称不能为空","traceId":null}]
2025-01-15 16:45:53,556 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 删除商品名称参数接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品名称不能为空', 'traceId': None}]
2025-01-15 17:04:04,201 INFO [apiautotest] [conftest.py (aalogger_init:58) - 日志初始化成功]
2025-01-15 17:04:04,202 INFO [apiautotest] [conftest.py (aalogger_init:59) - 日志初始化成功后产生的workid：gw1]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/system/auth/login]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Content-Type': 'application/json', 'tenant-id': '421'}]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'username': 'liyang', 'password': 'jt123456'}]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:04,661 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:04,661 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":{"userId":163,"accessToken":"bffcedb9dc444d88a69abf8acd374dc5","extendJson":"{\"tenantType\":\"1\",\"isMaster\":1,\"accountType\":3,\"tenantId\":\"421\",\"userId\":163,\"orgId\":\"1791366884432678912\",\"username\":\"liyang\"}","refreshToken":"e71107155adc4f58b3a78e9a8733a9ad","expiresTime":1736967844606,"tenantId":421,"tenantName":"洁小兔（溧阳）智洗工厂","tenantType":1,"orgId":"1791366884432678912","accountType":3},"msg":"成功","traceId":null}]
2025-01-15 17:04:04,663 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:04,663 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/page?pageNo=1&pageSize=20]
2025-01-15 17:04:04,663 DEBUG [apiautotest] [client.py (send:25) - 接口method: get]
2025-01-15 17:04:04,663 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  bffcedb9dc444d88a69abf8acd374dc5', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 17:04:04,664 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:04,664 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:04,664 DEBUG [apiautotest] [client.py (send:29) - 接口json: None]
2025-01-15 17:04:04,664 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:04,928 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:04,929 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":{"list":[{"id":"1879381311454580737","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736914397000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"liyang","updateTime":1736914397000,"thirdpartySchoolId":null},{"id":"1879366227990810624","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736910800000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"liyang","updateTime":1736910800000,"thirdpartySchoolId":null},{"id":"1879365372600258561","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736910596000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"liyang","updateTime":1736910596000,"thirdpartySchoolId":null},{"id":"1844631397684350976","orgId":"1791366884432678912","schoolName":"溧阳市溧城初级中学","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"溧阳中学","schoolLonLat":"119.470767,31.419415","schoolRemark":"","createTime":1728629371000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"foshan","updateTime":1731375633000,"thirdpartySchoolId":null},{"id":"1844629742133841920","orgId":"1791366884432678912","schoolName":"溧阳市实验初级中学","schoolType":1,"verifyType":1,"isHaveCard":1,"servceId":"1844629524449464320","servceName":"一卡通服务商","schoolAddress":"江苏省常州市溧阳市平陵中路251号溧阳市实验初级中学","schoolLonLat":"119.489456,31.421294","schoolRemark":"","createTime":1728628977000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"liyang","updateTime":1732679343000,"thirdpartySchoolId":"83921"},{"id":"1844629385383120896","orgId":"1791366884432678912","schoolName":"溧阳市第六中学","schoolType":2,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"江苏省常州市溧阳市永定路666号江苏省溧阳中学","schoolLonLat":"119.470767,31.419415","schoolRemark":"","createTime":1728628892000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"foshan","updateTime":1731375500000,"thirdpartySchoolId":null},{"id":"1844629246220308480","orgId":"1791366884432678912","schoolName":"溧阳中学","schoolType":2,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"江苏省常州市溧阳市永定路666号江苏省溧阳中学","schoolLonLat":"119.470767,31.419415","schoolRemark":"","createTime":1728628859000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"foshan","updateTime":1731375460000,"thirdpartySchoolId":null},{"id":"1844629154864173056","orgId":"1791366884432678912","schoolName":"溧阳市燕山中学","schoolType":2,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"江苏省常州市溧阳市溧城镇南环路35号溧阳市燕山中学","schoolLonLat":"119.483677,31.413099","schoolRemark":"","createTime":1728628837000,"orgName":"洁兔组织","tenantName":"洁小兔（溧阳）智洗工厂","updater":"foshan","updateTime":1731375409000,"thirdpartySchoolId":null}],"total":8},"msg":"成功","traceId":null}]
2025-01-15 17:04:05,951 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  bffcedb9dc444d88a69abf8acd374dc5', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:06,021 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:06,021 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":"1879454499706376192","msg":"成功","traceId":null}]
2025-01-15 17:04:06,094 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,095 INFO [apiautotest] [test_002-add_school.py (test_add_school:56) - 删除测试数据sql：delete from tcom_school where school_name = "测试学校" and tenant_id = 421 and create_time >= "2025-01-15 17:04:05"]
2025-01-15 17:04:06,325 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,325 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:06,325 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 17:04:06,325 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:06,325 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  bffcedb9dc444d88a69abf8acd374dc5', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 17:04:06,326 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:06,326 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:06,326 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 17:04:06,326 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:06,375 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:06,376 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:学校名称不能为空","traceId":null}]
2025-01-15 17:04:06,455 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,572 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,574 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:06,574 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 17:04:06,574 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:06,574 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  bffcedb9dc444d88a69abf8acd374dc5', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 17:04:06,574 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:06,574 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:06,574 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校2', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 17:04:06,575 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:06,632 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:06,632 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:学校地址不能为空","traceId":null}]
2025-01-15 17:04:06,685 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,789 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,790 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:06,790 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 17:04:06,790 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:06,790 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  bffcedb9dc444d88a69abf8acd374dc5', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 17:04:06,790 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:06,790 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:06,790 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校3', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': ''}]
2025-01-15 17:04:06,791 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:06,836 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:06,836 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:经纬度不能为空","traceId":null}]
2025-01-15 17:04:06,899 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '溧阳市燕山中学'}, {'school_name': '溧阳中学'}, {'school_name': '溧阳市第六中学'}, {'school_name': '溧阳市实验初级中学'}, {'school_name': '溧阳市溧城初级中学'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,934 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:06,934 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 17:04:06,935 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:06,935 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  bffcedb9dc444d88a69abf8acd374dc5', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 17:04:06,935 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:06,935 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:06,935 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productName': '', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 17:04:06,935 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:06,988 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:06,988 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品名称不能为空","traceId":null}]
2025-01-15 17:04:06,999 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 商品名称为空接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品名称不能为空', 'traceId': None}]
2025-01-15 17:04:07,011 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:07,011 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 17:04:07,011 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:07,011 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  bffcedb9dc444d88a69abf8acd374dc5', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 17:04:07,011 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:07,011 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:07,012 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productName': '单件', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 17:04:07,012 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:07,111 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:07,112 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":"1879454504173309952","msg":"成功","traceId":null}]
2025-01-15 17:04:07,124 ERROR [apiautotest] [test_003-add_goods.py (test_add_school:29) - 商品价格小于0接口返回信息为：{'code': 0, 'data': '1879454504173309952', 'msg': '成功', 'traceId': None}]
2025-01-15 17:04:07,151 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:07,152 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 17:04:07,152 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:07,152 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  bffcedb9dc444d88a69abf8acd374dc5', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 17:04:07,152 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:07,152 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:07,152 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [], 'productName': '单件', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 17:04:07,152 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:07,208 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:07,208 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品规格列表不能为空","traceId":null}]
2025-01-15 17:04:07,218 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 商品规格为空接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品规格列表不能为空', 'traceId': None}]
2025-01-15 17:04:07,238 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:07,238 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 17:04:07,238 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:07,238 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  bffcedb9dc444d88a69abf8acd374dc5', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 17:04:07,238 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:07,238 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:07,239 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': '', 'productName': '', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 17:04:07,239 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:07,298 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:07,298 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":500,"data":null,"msg":"Cannot deserialize value of type `java.util.ArrayList<cn.iocoder.yudao.module.base.dal.dataobject.productspec.ProductSpecDO>` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 97] (through reference chain: cn.iocoder.yudao.module.tcom.controller.admin.product.vo.ProductSaveReqVO[\"productSpecList\"])","traceId":null}]
2025-01-15 17:04:07,309 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 商品名称和规格同时为空接口返回信息为：{'code': 500, 'data': None, 'msg': 'Cannot deserialize value of type `java.util.ArrayList<cn.iocoder.yudao.module.base.dal.dataobject.productspec.ProductSpecDO>` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 97] (through reference chain: cn.iocoder.yudao.module.tcom.controller.admin.product.vo.ProductSaveReqVO["productSpecList"])', 'traceId': None}]
2025-01-15 17:04:07,324 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:07,325 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 17:04:07,325 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:07,325 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  bffcedb9dc444d88a69abf8acd374dc5', 'tenant-id': '421', 'Content-Type': 'application/json'}]
2025-01-15 17:04:07,325 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:07,325 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:07,325 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 17:04:07,325 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:07,372 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:07,373 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品名称不能为空","traceId":null}]
2025-01-15 17:04:07,386 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 删除商品名称参数接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品名称不能为空', 'traceId': None}]
