2025-01-15 16:35:46,943 INFO [apiautotest] [conftest.py (aalogger_init:58) - 日志初始化成功]
2025-01-15 16:35:46,945 INFO [apiautotest] [conftest.py (aalogger_init:59) - 日志初始化成功后产生的workid：gw0]
2025-01-15 16:35:46,946 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:46,946 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/system/auth/login]
2025-01-15 16:35:46,946 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:46,947 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Content-Type': 'application/json', 'tenant-id': '422'}]
2025-01-15 16:35:46,952 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:46,952 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:46,952 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'username': 'sanya', 'password': 'jt123456'}]
2025-01-15 16:35:46,952 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:48,063 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:48,063 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":{"userId":164,"accessToken":"8ea661de0c7740b882384ca4b02c1666","extendJson":"{\"tenantType\":\"1\",\"isMaster\":1,\"accountType\":3,\"tenantId\":\"422\",\"userId\":164,\"orgId\":\"1791366884432678912\",\"username\":\"sanya\"}","refreshToken":"e2dd426cc508471fb793f250ca3a36e1","expiresTime":1736966148019,"tenantId":422,"tenantName":"洁小兔（三亚）智洗工厂","tenantType":1,"orgId":"1791366884432678912","accountType":3},"msg":"成功","traceId":null}]
2025-01-15 16:35:48,065 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:48,065 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/page?pageNo=1&pageSize=20]
2025-01-15 16:35:48,065 DEBUG [apiautotest] [client.py (send:25) - 接口method: get]
2025-01-15 16:35:48,065 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  8ea661de0c7740b882384ca4b02c1666', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:35:48,065 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:48,065 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:48,065 DEBUG [apiautotest] [client.py (send:29) - 接口json: None]
2025-01-15 16:35:48,065 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:48,282 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:48,283 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":{"list":[{"id":"1879381311454580736","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736914397000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1736914397000,"thirdpartySchoolId":null},{"id":"1879366228112445440","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736910800000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1736910800000,"thirdpartySchoolId":null},{"id":"1879365372600258560","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736910596000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1736910596000,"thirdpartySchoolId":null},{"id":"1844296309490716672","orgId":"1791366884432678912","schoolName":"三亚理工职业学校","schoolType":3,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"海南省三亚市吉阳区吉阳镇迎宾大道学院路三亚理工职业学院","schoolLonLat":"109.552098,18.337118","schoolRemark":"","createTime":1728549480000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1728549480000,"thirdpartySchoolId":null},{"id":"1844296206726074368","orgId":"1791366884432678912","schoolName":"人大附中三亚学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"海南省三亚市海棠区林旺北路与龙江路交汇处东北侧人大附中三亚学校","schoolLonLat":"109.716074,18.341763","schoolRemark":"","createTime":1728549456000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1728549456000,"thirdpartySchoolId":null},{"id":"1844295977717075968","orgId":"1791366884432678912","schoolName":"三亚双品学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"海南省三亚市天涯区羊新路165号三亚双品学校","schoolLonLat":"109.463215,18.292897","schoolRemark":"","createTime":1728549401000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1728549401000,"thirdpartySchoolId":null}],"total":6},"msg":"成功","traceId":null}]
2025-01-15 16:35:48,998 INFO [apiautotest] [test_002-add_school.py (test_add_school:43) - 数据库中已有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:48,999 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:48,999 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:35:48,999 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:48,999 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  8ea661de0c7740b882384ca4b02c1666', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:35:48,999 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:48,999 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:48,999 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 16:35:48,999 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:49,104 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:49,104 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":"1879447382266089472","msg":"成功","traceId":null}]
2025-01-15 16:35:49,193 INFO [apiautotest] [test_002-add_school.py (test_add_school:49) - 测试完成后数据库中有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,194 INFO [apiautotest] [test_002-add_school.py (test_add_school:54) - 删除测试数据sql：delete from tcom_school where school_name = "测试学校" and tenant_id = 422 and create_time >= "2025-01-15 16:35:48"]
2025-01-15 16:35:49,324 INFO [apiautotest] [test_002-add_school.py (test_add_school:43) - 数据库中已有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,326 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:49,326 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:35:49,326 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:49,326 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  8ea661de0c7740b882384ca4b02c1666', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:35:49,326 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:49,326 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:49,326 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 16:35:49,326 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:49,376 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:49,376 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:学校名称不能为空","traceId":null}]
2025-01-15 16:35:49,463 INFO [apiautotest] [test_002-add_school.py (test_add_school:49) - 测试完成后数据库中有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,565 INFO [apiautotest] [test_002-add_school.py (test_add_school:43) - 数据库中已有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,567 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:49,567 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:35:49,567 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:49,567 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  8ea661de0c7740b882384ca4b02c1666', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:35:49,568 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:49,568 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:49,568 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校2', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 16:35:49,568 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:49,624 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:49,625 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:学校地址不能为空","traceId":null}]
2025-01-15 16:35:49,743 INFO [apiautotest] [test_002-add_school.py (test_add_school:49) - 测试完成后数据库中有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,840 INFO [apiautotest] [test_002-add_school.py (test_add_school:43) - 数据库中已有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,841 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:49,841 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:35:49,841 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:49,841 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  8ea661de0c7740b882384ca4b02c1666', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:35:49,841 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:49,841 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:49,842 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校3', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': ''}]
2025-01-15 16:35:49,842 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:49,896 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:49,896 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:经纬度不能为空","traceId":null}]
2025-01-15 16:35:49,953 INFO [apiautotest] [test_002-add_school.py (test_add_school:49) - 测试完成后数据库中有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:35:49,990 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:49,990 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:35:49,990 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:49,990 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  8ea661de0c7740b882384ca4b02c1666', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:35:49,990 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:49,990 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:49,991 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productName': '', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:35:49,991 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:50,042 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:50,042 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品名称不能为空","traceId":null}]
2025-01-15 16:35:50,052 INFO [apiautotest] [test_003-add_goods.py (test_add_school:29) - 商品名称为空接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品名称不能为空', 'traceId': None}]
2025-01-15 16:35:50,068 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:50,068 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:35:50,068 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:50,069 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  8ea661de0c7740b882384ca4b02c1666', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:35:50,069 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:50,069 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:50,069 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productName': '单件', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:35:50,069 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:50,158 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:50,158 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":"1879447386670108672","msg":"成功","traceId":null}]
2025-01-15 16:35:50,167 ERROR [apiautotest] [test_003-add_goods.py (test_add_school:27) - 商品价格小于0接口返回信息为：{'code': 0, 'data': '1879447386670108672', 'msg': '成功', 'traceId': None}]
2025-01-15 16:35:50,195 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:50,195 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:35:50,195 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:50,196 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  8ea661de0c7740b882384ca4b02c1666', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:35:50,196 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:50,196 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:50,196 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [], 'productName': '单件', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:35:50,196 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:50,245 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:50,246 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品规格列表不能为空","traceId":null}]
2025-01-15 16:35:50,255 INFO [apiautotest] [test_003-add_goods.py (test_add_school:29) - 商品规格为空接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品规格列表不能为空', 'traceId': None}]
2025-01-15 16:35:50,269 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:50,270 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:35:50,270 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:50,270 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  8ea661de0c7740b882384ca4b02c1666', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:35:50,270 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:50,270 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:50,270 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': '', 'productName': '', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:35:50,270 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:50,347 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:50,348 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":500,"data":null,"msg":"Cannot deserialize value of type `java.util.ArrayList<cn.iocoder.yudao.module.base.dal.dataobject.productspec.ProductSpecDO>` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 97] (through reference chain: cn.iocoder.yudao.module.tcom.controller.admin.product.vo.ProductSaveReqVO[\"productSpecList\"])","traceId":null}]
2025-01-15 16:35:50,359 INFO [apiautotest] [test_003-add_goods.py (test_add_school:29) - 商品名称和规格同时为空接口返回信息为：{'code': 500, 'data': None, 'msg': 'Cannot deserialize value of type `java.util.ArrayList<cn.iocoder.yudao.module.base.dal.dataobject.productspec.ProductSpecDO>` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 97] (through reference chain: cn.iocoder.yudao.module.tcom.controller.admin.product.vo.ProductSaveReqVO["productSpecList"])', 'traceId': None}]
2025-01-15 16:35:50,369 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  8ea661de0c7740b882384ca4b02c1666', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:35:50,370 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:35:50,437 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:35:50,438 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品名称不能为空","traceId":null}]
2025-01-15 16:35:50,448 INFO [apiautotest] [test_003-add_goods.py (test_add_school:29) - 删除商品名称参数接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品名称不能为空', 'traceId': None}]
2025-01-15 16:45:50,892 INFO [apiautotest] [conftest.py (aalogger_init:58) - 日志初始化成功]
2025-01-15 16:45:50,892 INFO [apiautotest] [conftest.py (aalogger_init:59) - 日志初始化成功后产生的workid：gw0]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/system/auth/login]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Content-Type': 'application/json', 'tenant-id': '422'}]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'username': 'sanya', 'password': 'jt123456'}]
2025-01-15 16:45:50,895 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:51,340 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:51,340 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":{"userId":164,"accessToken":"f0332e58e4b3454f8154f2d98499c97a","extendJson":"{\"tenantType\":\"1\",\"isMaster\":1,\"accountType\":3,\"tenantId\":\"422\",\"userId\":164,\"orgId\":\"1791366884432678912\",\"username\":\"sanya\"}","refreshToken":"0e8ae19787b64a20aec5b1dafb5fb8af","expiresTime":1736966751261,"tenantId":422,"tenantName":"洁小兔（三亚）智洗工厂","tenantType":1,"orgId":"1791366884432678912","accountType":3},"msg":"成功","traceId":null}]
2025-01-15 16:45:51,342 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:51,342 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/page?pageNo=1&pageSize=20]
2025-01-15 16:45:51,342 DEBUG [apiautotest] [client.py (send:25) - 接口method: get]
2025-01-15 16:45:51,342 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  f0332e58e4b3454f8154f2d98499c97a', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:45:51,342 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:51,343 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:51,343 DEBUG [apiautotest] [client.py (send:29) - 接口json: None]
2025-01-15 16:45:51,343 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:51,548 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:51,548 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":{"list":[{"id":"1879381311454580736","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736914397000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1736914397000,"thirdpartySchoolId":null},{"id":"1879366228112445440","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736910800000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1736910800000,"thirdpartySchoolId":null},{"id":"1879365372600258560","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736910596000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1736910596000,"thirdpartySchoolId":null},{"id":"1844296309490716672","orgId":"1791366884432678912","schoolName":"三亚理工职业学校","schoolType":3,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"海南省三亚市吉阳区吉阳镇迎宾大道学院路三亚理工职业学院","schoolLonLat":"109.552098,18.337118","schoolRemark":"","createTime":1728549480000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1728549480000,"thirdpartySchoolId":null},{"id":"1844296206726074368","orgId":"1791366884432678912","schoolName":"人大附中三亚学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"海南省三亚市海棠区林旺北路与龙江路交汇处东北侧人大附中三亚学校","schoolLonLat":"109.716074,18.341763","schoolRemark":"","createTime":1728549456000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1728549456000,"thirdpartySchoolId":null},{"id":"1844295977717075968","orgId":"1791366884432678912","schoolName":"三亚双品学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"海南省三亚市天涯区羊新路165号三亚双品学校","schoolLonLat":"109.463215,18.292897","schoolRemark":"","createTime":1728549401000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1728549401000,"thirdpartySchoolId":null}],"total":6},"msg":"成功","traceId":null}]
2025-01-15 16:45:52,246 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,247 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:52,247 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:45:52,247 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:52,247 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  f0332e58e4b3454f8154f2d98499c97a', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:45:52,247 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:52,248 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:52,248 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 16:45:52,248 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:52,321 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:52,321 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":"1879449912417062912","msg":"成功","traceId":null}]
2025-01-15 16:45:52,377 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,377 INFO [apiautotest] [test_002-add_school.py (test_add_school:56) - 删除测试数据sql：delete from tcom_school where school_name = "测试学校" and tenant_id = 422 and create_time >= "2025-01-15 16:45:52"]
2025-01-15 16:45:52,582 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,583 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:52,583 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:45:52,583 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:52,584 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  f0332e58e4b3454f8154f2d98499c97a', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:45:52,584 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:52,584 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:52,584 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 16:45:52,584 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:52,638 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:52,638 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:学校名称不能为空","traceId":null}]
2025-01-15 16:45:52,710 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,787 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,789 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:52,789 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:45:52,789 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:52,789 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  f0332e58e4b3454f8154f2d98499c97a', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:45:52,789 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:52,790 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:52,790 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校2', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 16:45:52,790 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:52,835 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:52,835 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:学校地址不能为空","traceId":null}]
2025-01-15 16:45:52,896 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,981 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:52,982 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:52,982 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 16:45:52,983 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:52,983 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  f0332e58e4b3454f8154f2d98499c97a', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:45:52,983 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:52,983 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:52,983 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校3', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': ''}]
2025-01-15 16:45:52,983 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:53,031 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:53,031 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:经纬度不能为空","traceId":null}]
2025-01-15 16:45:53,118 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 16:45:53,146 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:53,146 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:45:53,146 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:53,146 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  f0332e58e4b3454f8154f2d98499c97a', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:45:53,146 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:53,147 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:53,147 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productName': '', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:45:53,147 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:53,195 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:53,196 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品名称不能为空","traceId":null}]
2025-01-15 16:45:53,205 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 商品名称为空接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品名称不能为空', 'traceId': None}]
2025-01-15 16:45:53,217 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:53,217 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:45:53,217 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:53,217 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  f0332e58e4b3454f8154f2d98499c97a', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:45:53,217 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:53,217 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:53,218 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productName': '单件', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:45:53,218 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:53,311 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:53,312 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":"1879449916472954880","msg":"成功","traceId":null}]
2025-01-15 16:45:53,323 ERROR [apiautotest] [test_003-add_goods.py (test_add_school:29) - 商品价格小于0接口返回信息为：{'code': 0, 'data': '1879449916472954880', 'msg': '成功', 'traceId': None}]
2025-01-15 16:45:53,351 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:53,351 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:45:53,351 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:53,351 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  f0332e58e4b3454f8154f2d98499c97a', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:45:53,351 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:53,351 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:53,352 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [], 'productName': '单件', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:45:53,352 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:53,404 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:53,404 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品规格列表不能为空","traceId":null}]
2025-01-15 16:45:53,415 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 商品规格为空接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品规格列表不能为空', 'traceId': None}]
2025-01-15 16:45:53,430 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:53,430 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:45:53,430 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:53,430 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  f0332e58e4b3454f8154f2d98499c97a', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:45:53,430 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:53,430 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:53,430 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': '', 'productName': '', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:45:53,431 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:53,494 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:53,494 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":500,"data":null,"msg":"Cannot deserialize value of type `java.util.ArrayList<cn.iocoder.yudao.module.base.dal.dataobject.productspec.ProductSpecDO>` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 97] (through reference chain: cn.iocoder.yudao.module.tcom.controller.admin.product.vo.ProductSaveReqVO[\"productSpecList\"])","traceId":null}]
2025-01-15 16:45:53,504 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 商品名称和规格同时为空接口返回信息为：{'code': 500, 'data': None, 'msg': 'Cannot deserialize value of type `java.util.ArrayList<cn.iocoder.yudao.module.base.dal.dataobject.productspec.ProductSpecDO>` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 97] (through reference chain: cn.iocoder.yudao.module.tcom.controller.admin.product.vo.ProductSaveReqVO["productSpecList"])', 'traceId': None}]
2025-01-15 16:45:53,515 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 16:45:53,515 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 16:45:53,515 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 16:45:53,515 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  f0332e58e4b3454f8154f2d98499c97a', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 16:45:53,515 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 16:45:53,515 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 16:45:53,515 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 16:45:53,516 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 16:45:53,570 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 16:45:53,570 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品名称不能为空","traceId":null}]
2025-01-15 16:45:53,580 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 删除商品名称参数接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品名称不能为空', 'traceId': None}]
2025-01-15 17:04:04,201 INFO [apiautotest] [conftest.py (aalogger_init:58) - 日志初始化成功]
2025-01-15 17:04:04,202 INFO [apiautotest] [conftest.py (aalogger_init:59) - 日志初始化成功后产生的workid：gw0]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/system/auth/login]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Content-Type': 'application/json', 'tenant-id': '422'}]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'username': 'sanya', 'password': 'jt123456'}]
2025-01-15 17:04:04,204 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:04,661 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:04,661 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":{"userId":164,"accessToken":"0429892312cd4750aef5a0a7220d5bcc","extendJson":"{\"tenantType\":\"1\",\"isMaster\":1,\"accountType\":3,\"tenantId\":\"422\",\"userId\":164,\"orgId\":\"1791366884432678912\",\"username\":\"sanya\"}","refreshToken":"ea1d2fa311b04bb99f643cc77dbd4645","expiresTime":1736967844606,"tenantId":422,"tenantName":"洁小兔（三亚）智洗工厂","tenantType":1,"orgId":"1791366884432678912","accountType":3},"msg":"成功","traceId":null}]
2025-01-15 17:04:04,663 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:04,663 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/page?pageNo=1&pageSize=20]
2025-01-15 17:04:04,663 DEBUG [apiautotest] [client.py (send:25) - 接口method: get]
2025-01-15 17:04:04,663 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  0429892312cd4750aef5a0a7220d5bcc', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 17:04:04,664 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:04,664 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:04,664 DEBUG [apiautotest] [client.py (send:29) - 接口json: None]
2025-01-15 17:04:04,664 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:04,892 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:04,892 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":{"list":[{"id":"1879381311454580736","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736914397000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1736914397000,"thirdpartySchoolId":null},{"id":"1879366228112445440","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736910800000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1736910800000,"thirdpartySchoolId":null},{"id":"1879365372600258560","orgId":"1791366884432678912","schoolName":"测试学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭","schoolLonLat":"120.188966,30.346182","schoolRemark":"","createTime":1736910596000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1736910596000,"thirdpartySchoolId":null},{"id":"1844296309490716672","orgId":"1791366884432678912","schoolName":"三亚理工职业学校","schoolType":3,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"海南省三亚市吉阳区吉阳镇迎宾大道学院路三亚理工职业学院","schoolLonLat":"109.552098,18.337118","schoolRemark":"","createTime":1728549480000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1728549480000,"thirdpartySchoolId":null},{"id":"1844296206726074368","orgId":"1791366884432678912","schoolName":"人大附中三亚学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"海南省三亚市海棠区林旺北路与龙江路交汇处东北侧人大附中三亚学校","schoolLonLat":"109.716074,18.341763","schoolRemark":"","createTime":1728549456000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1728549456000,"thirdpartySchoolId":null},{"id":"1844295977717075968","orgId":"1791366884432678912","schoolName":"三亚双品学校","schoolType":1,"verifyType":0,"isHaveCard":2,"servceId":null,"servceName":null,"schoolAddress":"海南省三亚市天涯区羊新路165号三亚双品学校","schoolLonLat":"109.463215,18.292897","schoolRemark":"","createTime":1728549401000,"orgName":"洁兔组织","tenantName":"洁小兔（三亚）智洗工厂","updater":"sanya","updateTime":1728549401000,"thirdpartySchoolId":null}],"total":6},"msg":"成功","traceId":null}]
2025-01-15 17:04:05,951 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  0429892312cd4750aef5a0a7220d5bcc', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:05,953 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:05,954 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 17:04:05,954 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:06,021 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:06,021 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":"1879454499710570496","msg":"成功","traceId":null}]
2025-01-15 17:04:06,090 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,090 INFO [apiautotest] [test_002-add_school.py (test_add_school:56) - 删除测试数据sql：delete from tcom_school where school_name = "测试学校" and tenant_id = 422 and create_time >= "2025-01-15 17:04:05"]
2025-01-15 17:04:06,242 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,243 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:06,243 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 17:04:06,243 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:06,243 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  0429892312cd4750aef5a0a7220d5bcc', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 17:04:06,244 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:06,244 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:06,244 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 17:04:06,244 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:06,291 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:06,291 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:学校名称不能为空","traceId":null}]
2025-01-15 17:04:06,365 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,467 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,468 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:06,468 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 17:04:06,468 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:06,468 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  0429892312cd4750aef5a0a7220d5bcc', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 17:04:06,468 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:06,468 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:06,469 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校2', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '', 'schoolLonLat': '120.188966,30.346182'}]
2025-01-15 17:04:06,469 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:06,529 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:06,529 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:学校地址不能为空","traceId":null}]
2025-01-15 17:04:06,604 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,695 INFO [apiautotest] [test_002-add_school.py (test_add_school:45) - 数据库中已有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,696 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:06,696 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/school/create]
2025-01-15 17:04:06,696 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:06,697 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  0429892312cd4750aef5a0a7220d5bcc', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 17:04:06,697 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:06,697 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:06,697 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'schoolName': '测试学校3', 'schoolType': 1, 'isHaveCard': 2, 'schoolAddress': '浙江省杭州市拱墅区石桥路与永华街交叉口滨江·春语蓝庭', 'schoolLonLat': ''}]
2025-01-15 17:04:06,697 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:06,758 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:06,758 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:经纬度不能为空","traceId":null}]
2025-01-15 17:04:06,819 INFO [apiautotest] [test_002-add_school.py (test_add_school:51) - 测试完成后数据库中有的学校名称：[{'school_name': '三亚双品学校'}, {'school_name': '人大附中三亚学校'}, {'school_name': '三亚理工职业学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}, {'school_name': '测试学校'}]]
2025-01-15 17:04:06,848 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:06,849 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 17:04:06,849 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:06,849 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  0429892312cd4750aef5a0a7220d5bcc', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 17:04:06,849 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:06,849 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:06,849 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productName': '', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 17:04:06,849 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:06,906 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:06,906 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品名称不能为空","traceId":null}]
2025-01-15 17:04:06,924 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 商品名称为空接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品名称不能为空', 'traceId': None}]
2025-01-15 17:04:06,937 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:06,937 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 17:04:06,937 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:06,937 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  0429892312cd4750aef5a0a7220d5bcc', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 17:04:06,937 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:06,937 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:06,938 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productName': '单件', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 17:04:06,938 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:07,053 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:07,053 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":0,"data":"1879454503837765632","msg":"成功","traceId":null}]
2025-01-15 17:04:07,063 ERROR [apiautotest] [test_003-add_goods.py (test_add_school:29) - 商品价格小于0接口返回信息为：{'code': 0, 'data': '1879454503837765632', 'msg': '成功', 'traceId': None}]
2025-01-15 17:04:07,091 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:07,092 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 17:04:07,092 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:07,092 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  0429892312cd4750aef5a0a7220d5bcc', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 17:04:07,092 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:07,092 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:07,092 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [], 'productName': '单件', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 17:04:07,092 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:07,147 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:07,147 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品规格列表不能为空","traceId":null}]
2025-01-15 17:04:07,156 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 商品规格为空接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品规格列表不能为空', 'traceId': None}]
2025-01-15 17:04:07,181 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:07,182 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 17:04:07,182 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:07,182 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  0429892312cd4750aef5a0a7220d5bcc', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 17:04:07,182 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:07,182 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:07,182 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': '', 'productName': '', 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 17:04:07,182 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:07,240 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:07,240 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":500,"data":null,"msg":"Cannot deserialize value of type `java.util.ArrayList<cn.iocoder.yudao.module.base.dal.dataobject.productspec.ProductSpecDO>` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 97] (through reference chain: cn.iocoder.yudao.module.tcom.controller.admin.product.vo.ProductSaveReqVO[\"productSpecList\"])","traceId":null}]
2025-01-15 17:04:07,254 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 商品名称和规格同时为空接口返回信息为：{'code': 500, 'data': None, 'msg': 'Cannot deserialize value of type `java.util.ArrayList<cn.iocoder.yudao.module.base.dal.dataobject.productspec.ProductSpecDO>` from String value (token `JsonToken.VALUE_STRING`)\n at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 97] (through reference chain: cn.iocoder.yudao.module.tcom.controller.admin.product.vo.ProductSaveReqVO["productSpecList"])', 'traceId': None}]
2025-01-15 17:04:07,266 DEBUG [apiautotest] [client.py (send:23) - =================================================]
2025-01-15 17:04:07,266 DEBUG [apiautotest] [client.py (send:24) - 接口url: https://admin.test.jietukj.com/admin-api/tcom/product/create]
2025-01-15 17:04:07,266 DEBUG [apiautotest] [client.py (send:25) - 接口method: post]
2025-01-15 17:04:07,267 DEBUG [apiautotest] [client.py (send:26) - 接口headers: {'Authorization': 'Bearer  0429892312cd4750aef5a0a7220d5bcc', 'tenant-id': '422', 'Content-Type': 'application/json'}]
2025-01-15 17:04:07,267 DEBUG [apiautotest] [client.py (send:27) - 接口params: None]
2025-01-15 17:04:07,267 DEBUG [apiautotest] [client.py (send:28) - 接口data: None]
2025-01-15 17:04:07,267 DEBUG [apiautotest] [client.py (send:29) - 接口json: {'productDetails': '<p>便宜</p>', 'productDescribe': '实惠', 'productSpecList': [{'specPrice': 0.01, 'specStock': 3, 'commissionMoney': '2', 'originalPrice': '12', 'isLimit': 1, 'limitNum': 1, 'laundryNumber': 1, 'productSpecClassList': [{'classId': '1844295603706793989'}]}], 'productCoverImage': 'https://img.jietukj.com/product/微信图片_20241021170458.png', 'productImg': 'https://img.jietukj.com/product/微信图片_20241021170509.jpg', 'productType': 3, 'thaliType': '', 'sortNo': 1, 'virtualSaleNum': 100, 'schoolId': '1844296309490716672'}]
2025-01-15 17:04:07,267 DEBUG [apiautotest] [client.py (send:30) - 接口files: None]
2025-01-15 17:04:07,322 DEBUG [apiautotest] [client.py (send:42) - 接口响应状态码: 200]
2025-01-15 17:04:07,322 DEBUG [apiautotest] [client.py (send:43) - 接口响应body: {"code":400,"data":null,"msg":"请求参数不正确:商品名称不能为空","traceId":null}]
2025-01-15 17:04:07,334 INFO [apiautotest] [test_003-add_goods.py (test_add_school:31) - 删除商品名称参数接口返回信息为：{'code': 400, 'data': None, 'msg': '请求参数不正确:商品名称不能为空', 'traceId': None}]
